{% extends 'base.html' %}
{% load static %}

{% block title %}Buscar Usuários{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/buscar_usuarios.css' %}">
{% endblock %}

{% block content %}
<div class="buscar-container">
  <h1>Buscar Usuários</h1>

  <!-- Campo de busca (sem botão) -->
  <form method="get" action="{% url 'buscar_usuarios' %}" id="form-busca">
    <input type="text" name="q" id="campo-busca" placeholder="Digite um nome ou @username" value="{{ termo }}">

  </form>

  <div id="resultados">
    {% if usuarios %}
      <ul>
        {% for usuario in usuarios %}
          <li>
            <a href="{% url 'perfil' username=usuario.username %}">
              {% if usuario.profile.imagem %}
                <img src="{{ usuario.profile.imagem.url }}" alt="Foto de {{ usuario.username }}">
              {% else %}
                <img src="{% static 'img/default-profile.png' %}" alt="Foto padrão">
              {% endif %}

              <div class="info">
                <strong>{{ usuario.first_name }}</strong>
                <span>@{{ usuario.username }}</span>

              </div>

            </a>

          </li>
        {% endfor %}

      </ul>
    {% endif %}

  </div>

</div>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/buscar_usuarios.js' %}"></script>
{% endblock %}